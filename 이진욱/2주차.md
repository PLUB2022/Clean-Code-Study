# 5장 형식 맞추기
## 형식을 맞추는 목적
* 오늘 구현한 코드의 가독성은 앞으로 바뀔 코드에 영향을 미침
* 맨 처음 잡아놓은 구현 스타일과 가독성 수준은 유지보수 용이성과 확정성에 계속 영향을 미침

<br>

## 적절한 행 길이를 유지하라
2~500줄 정도가 바람직함

<br>

### 신문 기사처럼 작성하라
* 이름은 간단하면서도 설명이 가능하게 짓기
* 소스 파일 첫 부분은 고차원 개념과 알고리즘을 설명, 아래로 내려갈 수록 의도를 세세하게 표현

<br>

### 세로 밀집도
서로 밀접한 코드 행은 세로로 가까이 놓여야 한다.

<br>

### 종속 함수
한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다.

<br>

### 개념적 유사성
비슷한 동작을 수행하는 함수의 경우 코드를 가까이 배치한다.

<br>

### 팀 규칙
팀원은 규칙을 따라야 소프트웨어가 일관적인 스타일을 보인다.

<br>

# 6장 객체와 자료 구조
## 자료/객체 비대칭
객체 : 추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 공개   
자료 구조 : 자료를 그대로 공개하며 별다른 함수를 제공하지 않는다.   

<br>

새로운 자료 타입이 필요한 경우 : 클래스와 객체 지향 기법   
새로운 함수가 필요한 경우 : 절차적인 코드와 자료 구조   
(119쪽 참고)


<br>

## 자료 추상화
자료를 세세하게 공개하기보다는 추상적인 개념으로 표현하는 편이 좋다.

<br>

## 디미터 법칙
모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다.   
> 클래스 C의 메서드 f는 다음과 같은 객체의 메서드만 호출해야 한다
* 클래스 C
* f가 생성한 객체
* f 인수로 넘어온 객체
* C 인스턴스 변수에 저장된 객체


### 기차 충돌
```
final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();
```
흔히 위와 같은 코드를 `기차 충돌`이라 부름   
책에서는 단순히 조잡하기 때문에 피하라고 했는데 나름의 이유를 생각해봤음   

```Java
Options opts = ctxt.getOptions();
File scratchDir = opts.getScratchDir();
final String outputDir = scratchDir.getAbsolutePath();
```
이런 식으로 기차 충돌을 피해서 코드를 작성하게 되면 `scratchDir`, `outputDir` 객체를 **재활용**할 수 있기 때문   

ctxt, Options, ScratchDir이 객체라면 디미터 법칙 위반 자료구조라면 위반 X   

<br>

## 자료 전달 객체
### 활성 레코드
활성 레코드는 DTO의 특수한 형태, 자료 구조로 취급   
비즈니스 규칙을 넣지 않는다!

<br>

# 7장 오류 처리
## 오류 코드보다 예외를 사용하라

<br>

## 미확인 예외를 사용하라
메서드에서 확인된 예외를 던졌는데 catch 블록이 세 단계 위에 있다면 그 사이 메서드 모두가 선언부에 해당 예외를 정의해야 한다. 즉, 하위 단계에서 코드를 변경하면 상위 단계 메서드 선언부를 전부 고쳐야함.

<br>

## 예외에 의미를 제공하라
오류 메시지에 실패한 연산 이름, 유형을 함께 언급하라

<br>

## 호출자를 고려해 예외 클래스를 정의하라
외부 API를 사용할 때는 감싸기(Wrapper) 기법이 최선이다. 

<br>

## null을 반환하지 마라

<br>

## null을 전달하지 마라




